<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Insecure Transmission of Key Material</title>

    <style type="text/css">
        .hidden {
            display: none !important;
        }
    </style>
    <link href="../../dist/spectre.min.css" rel="stylesheet" type="text/css" />
    <link href="../../dist/spectre-icons.min.css" rel="stylesheet" type="text/css" />
  </head>
  <body class="container grid-md">
    <h1>
      Insecure Transmission of Key Material
    </h1>
    <p>
      This example demonstrates the problem of insecurely transmitting key material to the server.
    </p>
    <div class="accordion">
      <input hidden id="explanation" name="accordion-checkbox" type="checkbox">
      <label class="accordion-header"
             for="explanation">
        <i class="icon icon-arrow-right mr-1"></i>
        Explanation of the Mistake(s)
      </label>
      <div class="accordion-body">
        <p>
          This example generates a key and stores a copy on the server to allow for later retrieval.
          The cryptographic key is sent without any protection, fully exposing it to the server.
        </p>
      </div>
    </div>
    <div class="accordion">
      <input hidden id="mitigation" name="accordion-checkbox" type="checkbox">
      <label class="accordion-header"
             for="mitigation">
        <i class="icon icon-arrow-right mr-1"></i>
        Mitigation of the Mistake
      </label>
      <div class="accordion-body">
        <p>
          Do not send keys to the server.
          If it is necessary to share keys with others or provide access for another browser or a later session,
          properly protect the key to avoid exposure to the server.
          This can be achieved by using wrapping, for example using a password-derived key.
        </p>
        <p>
          When using password-based key derivation, it must still be ensured that the user chooses a secure password.
          The user should be informed of the password requirements and consequences of a weak password.
        </p>
      </div>
    </div>
    <button class="btn btn-primary"
            id="generateKey">Generate Private Key and Backup to the Server
    </button>

    <form id="form" method="post">
      <input id="secretKeyInput"
             name="secret-key"
             type="hidden" />
    </form>

    <script src="../../util.js" type="text/javascript"></script>
    <script src="main.js" type="text/javascript"></script>
  </body>
</html>
