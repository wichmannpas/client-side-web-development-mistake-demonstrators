<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Missing Support for Shared Devices</title>

    <style>
        .hidden {
            display: none !important;
        }
    </style>
    <link href="../../dist/spectre.min.css" rel="stylesheet" type="text/css" />
    <link href="../../dist/spectre-icons.min.css" rel="stylesheet" type="text/css" />
  </head>
  <body class="container grid-md">
    <h1>Missing Support for Shared Devices</h1>
    <p>
      This example demonstrates the problem of persisting private data in the browser
      without offering a shared device mode.
    </p>
    <div class="accordion">
      <input hidden id="explanation" name="accordion-checkbox" type="checkbox">
      <label class="accordion-header"
             for="explanation">
        <i class="icon icon-arrow-right mr-1"></i>
        Explanation of the Mistake(s)
      </label>
      <div class="accordion-body">
        <p>
          Upon &ldquo;registration&rdquo;, a secret key is generated and stored in the localStorage.
          In the default configuration of most browsers, the localStorage is persisted across browser restarts.
          If this is a shared device, another user that accesses the browser later also has access to this secret key
          and thereby the account of the first user.
        </p>
      </div>
    </div>
    <div class="accordion">
      <input hidden id="mitigation" name="accordion-checkbox" type="checkbox">
      <label class="accordion-header"
             for="mitigation">
        <i class="icon icon-arrow-right mr-1"></i>
        Mitigation of the Mistake
      </label>
      <div class="accordion-body">
        <p>
          If an application persists data in the browser, it should either use temporary locations that are cleared
          upon closing the browser, such as the sessionStorage.
          Alternatively, to provide convenience to users of non-shared devices, the application can add a checkbox
          to the login process to enable a shared device mode.
          Then, all data is stored in a temporary manner.
        </p>
        <p>
          Furthermore, in addition to the handling of shared devices, the application should provide a logout
          functionality to clear all locally stored data.
        </p>
      </div>
    </div>
    <div>
      <button class="btn btn-primary"
              id="register">
        Register (Create a New Secret Key)
      </button>
      <p class="hidden"
         id="loggedIn">
        You are currently logged in!
        Your secret key: <code id="displayKey"></code>
      </p>

      <script src="../../util.js" type="text/javascript"></script>
      <script src="main.js" type="text/javascript"></script>
  </body>
</html>
